<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>TIdNNTP.Post Method (TIdMessage)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', 'TIdNNTP_Post@TIdMessage.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
Topic Path: Symbol Reference &gt; Classes &gt; <a href="TIdNNTP.html" target="topic">TIdNNTP Class</a> &gt; <a href="!!MEMBERTYPE_Methods_TIdNNTP.html" target="topic">TIdNNTP Methods</a> &gt; <a href="!!OVERLOADED_Post_TIdNNTP.html" target="topic">Post Method</a> &gt; <a href="TIdNNTP_Post@TIdMessage.html" target="topic">Post Method (TIdMessage)</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="50%">
<div class="Element2">
<a href="contents.html" target="tocidx"><img src="btn_globals_contents_midblue.gif" border="0" alt="Contents" title="Contents" onmouseover="switchImage(this, 'btn_globals_contents_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_globals_contents_midblue.gif');"></a><a href="idx.html" target="tocidx"><img src="btn_globals_index_midblue.gif" border="0" alt="Index" title="Index" onmouseover="switchImage(this, 'btn_globals_index_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_globals_index_midblue.gif');"></a><a href="index.html" target="topic"><img src="btn_globals_home_midblue.gif" border="0" alt="Home" title="Home" onmouseover="switchImage(this, 'btn_globals_home_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_globals_home_midblue.gif');"></a></div>
</td><td width="50%">
<div class="Element90">
<a href="!!OVERLOADED_Post_TIdNNTP.html" target="topic"><img src="btn_prev_midblue.gif" border="0" alt="Previous" title="Previous" onmouseover="switchImage(this, 'btn_prev_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_prev_midblue.gif');"></a><a href="!!OVERLOADED_Post_TIdNNTP.html" target="topic"><img src="btn_up_midblue.gif" border="0" alt="Up" title="Up" onmouseover="switchImage(this, 'btn_up_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_up_midblue.gif');"></a><a href="TIdNNTP_Post@TIdStream.html" target="topic"><img src="btn_next_midblue.gif" border="0" alt="Next" title="Next" onmouseover="switchImage(this, 'btn_next_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_next_midblue.gif');"></a></div>
</td></tr></table><div class="Element5">
TIdNNTP.Post Method (TIdMessage)</div>
<div class="Element7">
<a href="TIdNNTP.html" target="topic">TIdNNTP Class</a> &nbsp; <a href="!!MEMBEROVERVIEW_TIdNNTP.html" target="topic">TIdNNTP Members</a></div>
<div class="Element731">
<div class="Element730">
<a href="#" onclick="ToggleAllElements('Pascal,Parameters,Description,Example,See_Also,Related_Information', 'linkToggleAllElements', 'imgToggleAllElements', 'Collapse All', 'Expand All');"><img src="btn_collapse.gif" border="0" alt="" title="" id="imgToggleAllElements"></a><a href="#" id="linkToggleAllElements" onclick="ToggleAllElements('Pascal,Parameters,Description,Example,See_Also,Related_Information', 'linkToggleAllElements', 'imgToggleAllElements', 'Collapse All', 'Expand All');">Collapse All</a></div>
</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="Summary"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
Transmits a new article to the NNTP server.</p></div>
</div>
<a name="Pascal"></a><div class="Element99">
<a onclick="toggleVisibilityStored('Pascal');"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="imgPascal">Pascal</a></div>
<div id="divPascal">
<div class="Element101"><div class="Element100"><pre class="Element100"><strong>procedure</strong> Post(
    AMsg: TIdMessage
); <strong>overload</strong>;</pre></div></div>
</div>
<a name="Parameters"></a><div class="Element14">
<a onclick="toggleVisibilityStored('Parameters');" class="a_Element14"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="imgParameters">Parameters</a></div>
<div id="divParameters">
<div class="Element11">
<div class="Element10">
<div class="Element252">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element240" valign="top" width="35%">
<div class="Element241">
Parameters&nbsp;</div></td><td class="Element244" valign="top" width="65%">
<div class="Element245">
Description&nbsp;</div></td></tr><tr>
<td class="Element242" valign="top" width="35%">
<div class="Element243">
AMsg&nbsp;</div></td><td class="Element246" valign="top" width="65%">
<div class="Element247">
Message instance to be sent to the NNTP server.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<a name="Description"></a><div class="Element14">
<a onclick="toggleVisibilityStored('Description');" class="a_Element14"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="imgDescription">Description</a></div>
<div id="divDescription">
<div class="Element11">
<div class="Element10">
<p class="Element10">
Post is an overloaded procedure in <a href="TIdNNTP.html" target="topic">TIdNNTP</a> that allows the NNTP client to send a new article to the NNTP server. The overloaded methods can use either the <a href="TIdMessage.html" target="topic">TIdMessage</a> in AMsg or the contents in the stream identified by AStream as the origin of the message content.&nbsp;</p>
<p class="Element10">
Post sends message content presented in the format specified by RFC 1036, including required header and body lines for the message, using the conventions required for the NNTP protocol.&nbsp;</p>
<p class="Element10">
Post calls <a href="TIdNNTP_SendCmd@string@array_of_SmallInt.html" target="topic">SendCmd</a> using the NNTP POST command to request a posting transaction on the the NNTP server. When the numeric response code from the server is 440, posting is prohibited on the server or newsgroup. When the server response is 340, posting is allowed on the newsgroup. When posting is allowed, Post will send message data using the AMsg or AStream argument provided to the method.&nbsp;</p>
<p class="Element10">
When AMsg is used as the source for message data, Post will ensure that the <a href="TIdMessage_ExtraHeaders.html" target="topic">TIdMessage.ExtraHeaders</a> property contains the value of Newsagent in the 'X-Newsreader' message header. The <a href="TIdMessage.html" target="topic">TIdMessage</a> in AMsg is sent to the server using <a href="TIdMessageClient_SendMsg@TIdMessage@Boolean.html" target="topic">SendMsg</a>, followed by the terminating CRLF.CRLF required to signal the end of message data and transmission.&nbsp;</p>
<p class="Element10">
Numeric response code 240 in <a href="TIdTCPConnection_LastCmdResult.html" target="topic">LastCmdResult</a> indicates that the article was successfully posted to the NNTP server.</p></div>
</div>
</div>
<a name="Example"></a><div class="Element14">
<a onclick="toggleVisibilityStored('Example');" class="a_Element14"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="imgExample">Example</a></div>
<div id="divExample">
<div class="Element11">
<div class="Element10">
<p class="Element10">
(Delphi) Posting a newsgroup message using TIdMessage.&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code00051');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code00051"><pre class="Element12">IdMessage1.Subject := sSubject;
IdMessage1.Body.Text := sBody;

<strong>if</strong> IdNNTP1.Connected <strong>then</strong> IdNNTP1.Post(IdMessage1);</pre></div></div>
<p class="Element10">
(Delphi) Posting a newsgroup message using an Indy Stream.&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code00052');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code00052"><pre class="Element12"><i>// AStream: TIdStreamVCL... content created manually</i>
AStream.Position := 0;
<strong>if</strong> IdNNTP1.Connected <strong>then</strong> IdNNTP1.Post(AStream);</pre></div></div>
</div>
</div>
</div>
<a name="See_Also"></a><div class="Section1000009">
<a onclick="toggleVisibilityStored('See_Also');" class="a_Section1000009"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="imgSee_Also">See Also</a></div>
<div id="divSee_Also">
<div class="Element10009">
<div class="Section9">
<p class="Section9">
<a href="TIdMessage.html" target="topic">TIdMessage</a> <a href="TIdMessage_ExtraHeaders.html" target="topic">TIdMessage.ExtraHeaders</a> <a href="TIdNNTP_SendCmd@string@array_of_SmallInt.html" target="topic">SendCmd</a> <a href="TIdNNTP_NewsAgent.html" target="topic">NewsAgent</a> <a href="TIdNNTP_IHAVE@TIdStringList.html" target="topic">IHAVE</a></p></div>
</div>
</div>
<a name="Related_Information"></a><div class="Section1000034">
<a onclick="toggleVisibilityStored('Related_Information');" class="a_Section1000034"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="imgRelated_Information">Related Information</a></div>
<div id="divRelated_Information">
<div class="Element10034">
<div class="Section34">
<a href="TIdNNTP.html" target="topic">TIdNNTP Class</a><br /><a href="!!MEMBEROVERVIEW_TIdNNTP.html" target="topic">TIdNNTP Members</a></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
Copyright © 1993-2006, Chad Z. Hower (aka Kudzu) and the Indy Pit Crew. All rights reserved.</div>
</td></tr><tr><td width="100%">
<div class="Element97">
Post feedback to the <a href="news://news.atozed.com/atozedsoftware.indy.documentation">Indy Docs Newsgroup</a>.</div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>